var $jscomp={scope:{},findInternal:function(b,h,c){b instanceof String&&(b=String(b));for(var f=b.length,l=0;l<f;l++){var v=b[l];if(h.call(c,v,l,b))return{i:l,v:v}}return{i:-1,v:void 0}}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(b,h,c){if(c.get||c.set)throw new TypeError("ES3 does not support getters and setters.");b!=Array.prototype&&b!=Object.prototype&&(b[h]=c.value)};
$jscomp.getGlobal=function(b){return"undefined"!=typeof window&&window===b?b:"undefined"!=typeof global&&null!=global?global:b};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(b,h,c,f){if(h){c=$jscomp.global;b=b.split(".");for(f=0;f<b.length-1;f++){var l=b[f];l in c||(c[l]={});c=c[l]}b=b[b.length-1];f=c[b];h=h(f);h!=f&&null!=h&&$jscomp.defineProperty(c,b,{configurable:!0,writable:!0,value:h})}};
$jscomp.polyfill("Array.prototype.find",function(b){return b?b:function(b,c){return $jscomp.findInternal(this,b,c).v}},"es6-impl","es3");
define(["jquery","templates"],function(b,h){b.extendPlainObject=function(c,f){function l(c,f){for(var q in f)f.hasOwnProperty(q)&&(c[q]?Array.isArray(c[q])?Array.prototype.push.apply(c[q],f[q]):b.isPlainObject(c[q])&&(c[q]=l(c[q],f[q])):c[q]=f[q]);return c}return l(c,f)};return function(c,f,l,v){function F(a,d){var b=w[a];return b?d+"/"+b.path:null}function q(a,d){return D[a]?d+"/"+D[a]:null}function G(a){return(a=H[a])?a.hash:""}function x(a){return(a=w[a])?a.url:null}function y(a){return 0>I.indexOf(a)}
function C(a,d){var k=x(a);k&&(k=b('a[href$="'+k+'"]',A).parent(),d?k.addClass("active"):k.removeClass("active"))}function J(a){var d=b(a,A);d.closest("section, footer").removeClass("hide");d.removeClass("hide");y(a)&&(m&&a!=m?(d=b(m,A),d.addClass("hide"),d.closest("section").addClass("hide"),C(m,!1),m=a):r&&a!=r&&(d=b(r,A),d.addClass("hide"),d.closest("section").addClass("hide"),C(r,!1)))}function z(a,d,k){var e=b.Deferred();y(a)&&C(a,!0);var c=F(a,k);if(!c)return e.reject(),{doneNotifier:e.promise(),
load:function(){}};var n=c+" "+a,p=b(a,d);e.done(function(){p.find(a).contents().unwrap();K.applyTemplates(E,p,d);b("a[data-link]",p).each(function(a,e){var c=b(e,p);l(c,e,d,k)});J(a);y(a)&&(m=a);f(p,d,k)});return{doneNotifier:e.promise(),load:function(){var d=[],c=q(a,k);c&&(c=b.getJSON(c),c.done(function(a){b.extendPlainObject(E,a);a.pages&&L(a.pages)}),d.push(c));var f=b.Deferred();d.push(f);p.load(n,function(a,d,b){f.resolve()});b.when.apply(this,d).done(function(){e.resolve()})}}}function L(a){for(var d=
0;d<a.length;d++){var b=a[d],e=b.hash,c=b.url,n=b.path,p=b["data-link"],b=b.data;e&&""!=e&&(w[e]={url:c,path:n?n:c,"data-link":null!=p&&void 0!=p?p:!0},0==c.indexOf("/")&&(c=c.substring(1)),H[c]={hash:e,"data-link":null!=p&&void 0!=p?p:!0},D[e]=b)}}function N(a){var b=document.createElement("a");b.href=a;a={current:"",requested:""};if(b.pathname){var c=b.pathname;0==c.indexOf("/")&&(c=c.substring(1));if(c=G(c))a.current=c}b.hash&&(b=b.hash,c=b.split("#"),b=1<c.length?"#"+c[1]:b,x(b)&&(a.requested=
b));return a}function M(a,b){var c=b.find(a);return 0==c.length||0==c.children().length}function O(a,b,c,e,f){var d=[];a.forEach(function(a){a!=r&&a!=e&&a!=B&&d.push(z(a,b,c))});e&&1<e.length&&y(e)?(r=e,d.push(z(r,b,c))):r&&-1<a.indexOf(r)&&f==r&&d.push(z(r,b,c));B&&-1<a.indexOf(B)&&d.push(z(B,b,c));return d}function P(a,c,f,e,g,n){var d;e=c?b("#"+e,n):b("#"+g,n);0<e.length&&(d=b(e[0].innerHTML,n));d&&(b(".gc-included-content",d).attr("id",f.substring(1)),c?a.append(d):a.prepend(d))}function Q(a,
c,f){b(".navbar a[data-link], footer a[data-link], section a[data-link]",a).each(function(a,d){var e=b(d,c);l(e,d,c,f)})}var K=h,A,w={},H={},D={},I=[],r,m,E,B,g={};g.getSectionPath=F;g.getSectionDataPath=q;g.getSectionHash=G;g.getSectionCanonicalUrl=x;g.getSectionLink=function(a){return(a=w[a])?{url:a.url,path:a.path,"data-link":a["data-link"]}:null};g.isFloatSection=y;g.setVisibleFloatSection=function(a){r=a};g.getVisibleFloatSection=function(){return r};g.setSelectedSection=function(a){m=a};g.getSelectedSection=
function(){return m};g.isSelectedSection=function(a){return m==a};g.activateNavMenuItem=C;g.clickNavMenuItem=function(a){(a=x(a))&&b('a[href$="'+a+'"]',A).trigger("click")};g.hideCurrentSection=J;g.loadSection=z;g.setup=function(a){var d=a.data,k=a.anchor,e=a.context,g=a.dir,n=a.href;E=d;A=e;a=[];var p=d.pages,l=d.section,q=d.footer;L(p);var h=N(n),n=h.current,h=h.requested,m=b(k,e);K.applyTemplates(d,m,e);c&&""!=n?f(b(n,e),e,g):f(m,e,g);m=b("body",e);for(d=p.length-1;0<=d;d--){var u=p[d],t=u.hash;
u.active&&(r=t,""==n&&(n=t));var y=0==m.find(t).length,z=M(t,m);u.loaded&&z&&a.push(t);u.fixed&&I.push(t);(u=u.footer)&&(B=t);y&&(!c||u||h&&t==h||!h&&t==r)&&P(m,u,t,q,l,e)}Q(b(k,e),e,g);var w;h&&M(h,m)&&(w=h);k=O(a,e,g,w,n);r=n;if(0<k.length){e=k.map(function(a){return a.doneNotifier});b.when.apply(this,e).done(function(){v&&v.call()});for(var x,d=0;d<k.length-1;d++)e=k[d].doneNotifier,x=k[d+1],e.done(function(){x.load()});k[0].load()}else v&&!c&&v.call()};return g}});
